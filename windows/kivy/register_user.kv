<RegisterUser>
    name: 'RegisterUser'

    MDFloatLayout:

        MDLabel:
            text: 'SIGN UP'
            font_size: "20sp"
            bold: True
            halign: 'center'

            size_hint_y: None
            height: self.texture_size[1] * 3
            pos_hint: {"center_x": 0.5, "top": 0.95}

        MDTextField:
            id: email
            icon_left: 'email-outline'
            hint_text: 'your@email.com'
            helper_text_mode: "on_error"
            halign: 'left'

            size_hint_x: None
            width: root.width * 0.5
            pos_hint: {"center_x": 0.5, "top": 0.85}
        
        MDTextField:
            id: first_name
            icon_left: 'account'
            hint_text: 'First Name'
            halign: 'left'

            size_hint_x: None
            width: root.width * 0.5
            pos_hint: {"center_x": 0.5, "top": 0.75}
        
        MDTextField:
            id: last_name
            icon_left: 'account'
            text: ''
            hint_text: 'Last Name'
            halign: 'left'

            size_hint_x: None
            width: root.width * 0.5
            pos_hint: {"center_x": 0.5, "top": 0.65}
        
        MDTextField:
            id: password
            icon_left: 'eye-off'
            hint_text: 'Password'
            password: True
            halign: 'left'
            size_hint_x: None

            width: root.width * 0.5
            pos_hint: {"center_x": 0.5, "top": 0.55}
        
        MDTextField:
            id: password2
            icon_left: 'eye-off'
            hint_text: 'Confirm password'
            helper_text_mode: "on_error"
            helper_text: "Passwords don't match."
            password: True
            halign: 'left'

            size_hint_x: None
            width: root.width * 0.5
            pos_hint: {"center_x": 0.5, "top": 0.45}

            on_text_validate:
                root.register()
            on_focus:
                root.matching_passwords(self)

        MDRectangleFlatButton:
            id: icon1
            pos_hint: {"x": (root.width * 0.15) / root.width, "center_y": password.center_y / root.height}
            md_bg_color: 0, 0, 0, 0
            line_color: 0, 0, 0, 0
            ripple_scale: 0

            size_hint_x: None
            width: dp(25)
            size_hint_y: None
            height: password.height * 0.75

            on_release:
                root.password(self)
        
        MDRectangleFlatButton:
            id: icon2
            pos_hint: {"x": (root.width * 0.15) / root.width, "center_y": password2.center_y / root.height}
            md_bg_color: 0, 0, 0, 0
            line_color: 0, 0, 0, 0
            ripple_scale: 0

            size_hint_x: None
            width: dp(25)
            size_hint_y: None
            height: password.height * 0.75

            on_release:
                root.password(self)

        MDFillRoundFlatButton:
            text: 'Sign up'

            size_hint_x: 0.5
            pos_hint: {'center_x': 0.5, "top": 0.3}
            
            on_release:
                root.register()

        MDLabel:
            
        MDLabel:
            text: "Or"
            font_size: "12sp"
            color: 0.1, 0.1, 0.1, 0.7
            halign: "center"

            size_hint_y: None
            height: self.texture_size[1]
            pos_hint: {"center_x": 0.5, "top": 0.1}
        
        MDFlatButton:
            text: 'LOG IN'
            bold: True

            size_hint_x: 0.6
            pos_hint: {"center_x": 0.5, "top": 0.07}
            on_release:
                root.manager.transition = NoTransition()
                app.root.current = 'Login'

        MDLabel: